#!/bin/bash\n\n# Installation script for Bluetooth Monitor\n\n# Check for root privileges\nif [ "$(id -u)" -ne 0 ]; then\n    echo "This script must be run as root" >&2\n    exit 1\nfi\n\n# Create necessary directories\nmkdir -p /usr/local/bin\nmkdir -p /etc/bluetooth-monitor\nmkdir -p /var/log/bluetooth-monitor\n\n# Copy main script\ncp src/bluetooth_monitor.sh /usr/local/bin/\nchmod +x /usr/local/bin/bluetooth_monitor.sh\n\n# Install systemd service\ncp systemd/bluetooth-monitor.service /etc/systemd/system/\nsystemctl daemon-reload\n\n# Create default config\nif [ ! -f /etc/bluetooth-monitor/config ]; then\n    cat > /etc/bluetooth-monitor/config <<EOF\nVERBOSE=true\nCHECK_INTERVAL=60\nAUTO_RECOVERY=true\nLOG_DIR=/var/log/bluetooth-monitor\nEOF\nfi\n\n# Setup log rotation\ncat > /etc/logrotate.d/bluetooth-monitor <<EOF\n/var/log/bluetooth-monitor/*.log {\n    daily\n    rotate 7\n    compress\n    delaycompress\n    missingok\n    notifempty\n    create 644 root root\n}\nEOF\n\necho "Installation complete. Use the following commands to manage the service:"\necho "systemctl start bluetooth-monitor   # Start the service"\necho "systemctl enable bluetooth-monitor  # Enable at boot"\necho "systemctl status bluetooth-monitor  # Check status"\n
